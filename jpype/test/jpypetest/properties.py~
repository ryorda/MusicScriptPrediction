import common

class PropertiesTestCase(common.JPypeTestCase):

    def setUp(self):
        super(PropertiesTestCase).setUp(self)
        self.bean = self.jpype.properties.TestBean()

    def testPropertyPublicMethodOverlap(self):
        bean.setProperty1("val")
        self.assertEqual("getsetval", bean.getProperty1())

    def testPublicMethodPropertyOverlap(self):
        self.assertEqual("method", bean.property1())

    def testPropertyProtectedMethodOverlapInvisibleAttribute(self):
        bean.property2 = "val"
        self.assertEqual("getsetval", bean.property2)

    def testProtectedMethodPropertyOverlapInvisibleAttribute(self):
        self.assertFalse(hasattr(bean.property2, '__call__'))

    def testPropertyProtectedMethodOverlapAttribute(self):
        bean.property3 = "val"
        self.assertEqual("getsetval", bean.property3)

    def testProtectedMethodPropertyOverlapAttribute(self):
        self.assertFalse(hasattr(bean.property3, '__call__'))

    def testPropertyProtectedMethodOverlapAttributeSet(self):
        bean.setProperty3("val")
        self.assertEqual("getsetval", bean.property3)

    def testPropertyProtectedMethodOverlapAttributeGet(self):
        bean.property3 = "val"
        self.assertEqual("getsetval", bean.getProperty3())

    def testPrivateAttributeNoThreeCharacterMethodMatchCollision(self):
        bean.property4 ="val"
        self.assertEqual("abcval", bean.abcProperty4())

    def testPropertyOnlySetter(self):
        bean.property5 = "val"
        self.assertEqual("returnsetval", bean.returnProperty5())

    def testPropertyOnlySetterSet(self):
        bean.setProperty5("val")
        self.assertEqual("setval", bean.property5)

    def testPropertyDifferentAttribute(self):
        bean.property6 = "val"
        self.assertEqual("getsetval", bean.property6)
        self.assertEqual("setval", bean.property7)

    def testProertyDifferentAttributeSet(self):
        bean.setProperty6("val")
        self.assertEqual("getsetval", bean.property6)
        self.assertEqual("setval", bean.property7)
